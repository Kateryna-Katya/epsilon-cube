{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. Инициализация плавного скролла Lenis\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        orientation: 'vertical',\n        smoothWheel: true,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // 2. Эффект хедера при скролле\n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (window.scrollY > 50) {\n            header.classList.add('header--scrolled');\n        } else {\n            header.classList.remove('header--scrolled');\n        }\n    });\n\n    // 3. Инициализация иконок Lucide (если потребуются)\n    lucide.createIcons();\n\n    // 4. Заглушка для предотвращения разрыва слов (text-wrap: balance)\n    // Современные браузеры поддерживают это в CSS, но для старых можно добавить логику\n    const headings = document.querySelectorAll('h1, h2');\n    headings.forEach(h => {\n        h.style.textWrap = 'balance';\n    });\n\n    console.log('✅ Epsilon-Cube: Base, Header & Footer Ready.');\n    // --- ЭТАП 3.1: HERO ANIMATIONS ---\n\n    // 1. Vanta.js WebGL Background Effect\n    // Проверяем ширину экрана, на мобильных эффект не инициализируем для производительности\n    if (window.innerWidth > 768) {\n        VANTA.NET({\n            el: \"#vanta-canvas\",\n            mouseControls: true,\n            touchControls: false,\n            gyroControls: false,\n            minHeight: 200.00,\n            minWidth: 200.00,\n            scale: 1.00,\n            scaleMobile: 1.00,\n            color: 0x22d3ee, // Наш акцентный цвет\n            backgroundColor: 0x0a0c10, // Наш цвет фона\n            points: 12.00,\n            maxDistance: 22.00,\n            spacing: 18.00,\n            showDots: false // Линии более стильные\n        });\n    }\n\n    // 2. GSAP Text Animations\n    // Разбиваем текст на символы\n    const heroTitle = new SplitType('.hero__title', { types: 'chars' });\n    \n    const heroTl = gsap.timeline({ delay: 0.5 }); // Небольшая задержка перед стартом\n\n    // Анимация заголовка (посимвольное появление снизу с поворотом)\n    heroTl.to(heroTitle.chars, {\n        y: 0,\n        rotate: 0,\n        opacity: 1,\n        stagger: 0.03,\n        duration: 1,\n        ease: 'power4.out',\n        clipPath: 'polygon(0 0, 100% 0, 100% 100%, 0% 100%)' // Раскрытие маски\n    })\n    // Анимация подзаголовка и кнопок (фейд снизу)\n    .to('.animate-fade', {\n        y: 0,\n        opacity: 1,\n        stagger: 0.2,\n        duration: 0.8,\n        ease: 'power2.out'\n    }, '-=0.5'); // Запускаем чуть раньше окончания анимации заголовка\n\n    // Обновляем иконки Lucide, так как добавили новые в Hero\n    lucide.createIcons();\n    // --- ЭТАП 3.2: ABOUT SECTION ANIMATIONS ---\n\n    // 1. Анимация появления текста (GSAP ScrollTrigger)\n    gsap.from(\".about__content .reveal-text\", {\n        scrollTrigger: {\n            trigger: \".about\",\n            start: \"top 80%\",\n        },\n        y: 40,\n        opacity: 0,\n        stagger: 0.15,\n        duration: 1,\n        ease: \"power3.out\"\n    });\n\n    // 2. Анимация карточек (плавное появление с разной задержкой)\n    gsap.from(\".strategy-card\", {\n        scrollTrigger: {\n            trigger: \".about__visual\",\n            start: \"top 80%\",\n        },\n        scale: 0.9,\n        opacity: 0,\n        stagger: 0.2,\n        duration: 0.8,\n        ease: \"back.out(1.7)\"\n    });\n\n    // 3. Анимация счетчиков цифр\n    const counters = document.querySelectorAll('.stat-item__num');\n    counters.forEach(counter => {\n        const target = +counter.getAttribute('data-val');\n        \n        gsap.to(counter, {\n            scrollTrigger: {\n                trigger: counter,\n                start: \"top 90%\",\n            },\n            innerText: target,\n            duration: 2,\n            snap: { innerText: 1 }, // Округление до целого\n            ease: \"power2.out\"\n        });\n    });\n\n    // Не забываем обновить иконки\n    lucide.createIcons();\n    // --- ЭТАП 3.3: BENEFITS SPOTLIGHT EFFECT & GSAP ---\n\n    // 1. Трекинг мыши для эффекта Spotlight в Bento Grid\n    const bentoItems = document.querySelectorAll('.bento__item');\n    \n    bentoItems.forEach(item => {\n        item.addEventListener('mousemove', (e) => {\n            const rect = item.getBoundingClientRect();\n            const x = e.clientX - rect.left;\n            const y = e.clientY - rect.top;\n            \n            item.style.setProperty('--mouse-x', `${x}px`);\n            item.style.setProperty('--mouse-y', `${y}px`);\n        });\n    });\n\n    // 2. Появление Bento Grid через GSAP\n    gsap.from(\".animate-bento\", {\n        scrollTrigger: {\n            trigger: \".bento\",\n            start: \"top 85%\",\n        },\n        y: 50,\n        opacity: 0,\n        stagger: 0.1,\n        duration: 1,\n        ease: \"power4.out\"\n    });\n\n    // Обновляем иконки Lucide\n    lucide.createIcons();\n    // --- ЭТАП 3.4: INNOVATION SLIDER INITIALIZATION ---\n\n    const innovationSwiper = new Swiper('.innovation-slider', {\n        slidesPerView: 1,\n        spaceBetween: 20,\n        loop: true,\n        centeredSlides: false,\n        speed: 800,\n        autoplay: {\n            delay: 4000,\n            disableOnInteraction: false,\n        },\n        pagination: {\n            el: '.inv-pagination',\n            clickable: true,\n        },\n        navigation: {\n            nextEl: '.inv-next',\n            prevEl: '.inv-prev',\n        },\n        breakpoints: {\n            640: {\n                slidesPerView: 2,\n                spaceBetween: 30,\n            },\n            1024: {\n                slidesPerView: 3,\n                spaceBetween: 40,\n            },\n        }\n    });\n\n    // GSAP анимация заголовка секции\n    gsap.from(\".innovation__header > *\", {\n        scrollTrigger: {\n            trigger: \".innovation\",\n            start: \"top 80%\",\n        },\n        y: 30,\n        opacity: 0,\n        stagger: 0.2,\n        duration: 1,\n        ease: \"power3.out\"\n    });\n\n    lucide.createIcons();\n    // --- ЭТАП 3.5: BLOG SECTION ANIMATIONS ---\n\n    gsap.from(\".animate-blog\", {\n        scrollTrigger: {\n            trigger: \".blog__grid\",\n            start: \"top 85%\",\n        },\n        y: 60,\n        opacity: 0,\n        stagger: 0.2,\n        duration: 1,\n        ease: \"power4.out\"\n    });\n\n    // Добавляем микро-инзаимодействие для ссылок \"Подробнее\"\n    const blogLinks = document.querySelectorAll('.blog-card__link');\n    blogLinks.forEach(link => {\n        link.addEventListener('mouseenter', () => {\n            gsap.to(link.querySelector('svg'), { x: 5, duration: 0.3 });\n        });\n        link.addEventListener('mouseleave', () => {\n            gsap.to(link.querySelector('svg'), { x: 0, duration: 0.3 });\n        });\n    });\n\n    lucide.createIcons();\n    // --- ЭТАП 4: FORM LOGIC ---\n\n    const form = document.getElementById('career-form');\n    const successMsg = document.getElementById('success-msg');\n    const resetBtn = document.getElementById('reset-form');\n    const phoneInput = document.getElementById('phone-input');\n    const captchaQ = document.getElementById('captcha-question');\n    const captchaA = document.getElementById('captcha-answer');\n    \n    let correctAnswer;\n\n    // 1. Генерация капчи\n    function generateCaptcha() {\n        const a = Math.floor(Math.random() * 10) + 1;\n        const b = Math.floor(Math.random() * 10) + 1;\n        correctAnswer = a + b;\n        captchaQ.innerText = `${a} + ${b}`;\n    }\n    generateCaptcha();\n\n    // 2. Валидация телефона (только цифры)\n    phoneInput.addEventListener('input', (e) => {\n        e.target.value = e.target.value.replace(/[^0-9]/g, '');\n    });\n\n    // 3. Обработка отправки (AJAX Simulation)\n    form.addEventListener('submit', (e) => {\n        e.preventDefault();\n\n        // Проверка капчи\n        if (parseInt(captchaA.value) !== correctAnswer) {\n            alert('Неверный ответ на защитный вопрос!');\n            generateCaptcha();\n            captchaA.value = '';\n            return;\n        }\n\n        const submitBtn = document.getElementById('submit-btn');\n        const loader = document.getElementById('form-loader');\n        const btnText = submitBtn.querySelector('span');\n\n        // Визуализация загрузки\n        btnText.style.display = 'none';\n        loader.style.display = 'block';\n        submitBtn.disabled = true;\n\n        setTimeout(() => {\n            // Успех!\n            successMsg.classList.add('active');\n            form.reset();\n            generateCaptcha();\n            \n            // Сброс состояния кнопки\n            btnText.style.display = 'block';\n            loader.style.display = 'none';\n            submitBtn.disabled = false;\n        }, 2000);\n    });\n\n    // 4. Сброс формы (кнопка \"Отправить еще раз\")\n    resetBtn.addEventListener('click', () => {\n        successMsg.classList.remove('active');\n    });\n\n    lucide.createIcons();\n});"],"names":["lenis","t","raf","time","header","h","heroTitle","counter","target","item","e","rect","x","y","link","form","successMsg","resetBtn","phoneInput","captchaQ","captchaA","correctAnswer","generateCaptcha","a","b","submitBtn","loader","btnText"],"mappings":"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"}