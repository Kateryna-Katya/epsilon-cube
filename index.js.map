{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. ИНИЦИАЛИЗАЦИЯ ПЛАВНОГО СКРОЛЛА (LENIS) ---\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        smoothWheel: true,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // --- 2. МОБИЛЬНОЕ МЕНЮ И ХЕДЕР ---\n    const header = document.querySelector('.header');\n    const burger = document.querySelector('.burger');\n    const mobileMenu = document.getElementById('mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-nav__link');\n\n    window.addEventListener('scroll', () => {\n        header.classList.toggle('header--scrolled', window.scrollY > 50);\n    });\n\n    const toggleMenu = () => {\n        burger.classList.toggle('active');\n        mobileMenu.classList.toggle('active');\n        document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n    };\n\n    if (burger) {\n        burger.addEventListener('click', toggleMenu);\n    }\n\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', toggleMenu);\n    });\n\n    // --- 3. ФОН HERO (VANTA.JS) ---\n    if (window.innerWidth > 768 && typeof VANTA !== 'undefined') {\n        VANTA.NET({\n            el: \"#vanta-canvas\",\n            mouseControls: true,\n            color: 0x22d3ee,\n            backgroundColor: 0x0a0c10,\n            points: 12.00,\n            maxDistance: 22.00,\n            spacing: 18.00\n        });\n    }\n\n    // --- 4. GSAP АНИМАЦИИ (БЕЗ СЕКЦИИ ИННОВАЦИЙ) ---\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Hero: Анимация заголовка\n    const heroTitle = new SplitType('.hero__title', { types: 'chars' });\n    const heroTl = gsap.timeline({ delay: 0.5 });\n    \n    heroTl.to(heroTitle.chars, {\n        y: 0,\n        rotate: 0,\n        opacity: 1,\n        stagger: 0.03,\n        duration: 1,\n        ease: 'power4.out'\n    }).to('.animate-fade', {\n        y: 0,\n        opacity: 1,\n        stagger: 0.2,\n        duration: 0.8,\n        ease: 'power2.out'\n    }, '-=0.5');\n\n    // Описание платформы (About)\n    gsap.from(\".about__content .reveal-text\", {\n        scrollTrigger: {\n            trigger: \".about\",\n            start: \"top 80%\",\n        },\n        y: 40,\n        opacity: 0,\n        stagger: 0.15,\n        duration: 1\n    });\n\n    // Инсайты (Блог) - ИСПРАВЛЕНО ПОДГРУЗКА\n    gsap.to(\".animate-blog\", {\n        scrollTrigger: {\n            trigger: \".blog__grid\",\n            start: \"top 85%\",\n        },\n        y: 0,\n        opacity: 1,\n        stagger: 0.2,\n        duration: 0.8,\n        ease: \"power2.out\",\n        onStart: () => {\n            document.querySelectorAll('.animate-blog').forEach(el => el.style.visibility = 'visible');\n        }\n    });\n\n    // Счетчики в статистике\n    document.querySelectorAll('.stat-item__num').forEach(counter => {\n        const target = +counter.getAttribute('data-val');\n        gsap.to(counter, {\n            scrollTrigger: { trigger: counter, start: \"top 90%\" },\n            innerText: target,\n            duration: 2,\n            snap: { innerText: 1 }\n        });\n    });\n\n    // --- 5. SWIPER (ИННОВАЦИИ) - БЕЗ GSAP ---\n    const innovationSwiper = new Swiper('.innovation-slider', {\n        slidesPerView: 1,\n        spaceBetween: 20,\n        loop: true,\n        autoplay: { delay: 4000, disableOnInteraction: false },\n        pagination: { el: '.inv-pagination', clickable: true },\n        navigation: { nextEl: '.inv-next', prevEl: '.inv-prev' },\n        breakpoints: {\n            640: { slidesPerView: 2, spaceBetween: 30 },\n            1024: { slidesPerView: 3, spaceBetween: 40 }\n        }\n    });\n\n    // --- 6. КОНТАКТНАЯ ФОРМА И КАПЧА ---\n    const form = document.getElementById('career-form');\n    const captchaQ = document.getElementById('captcha-question');\n    const captchaA = document.getElementById('captcha-answer');\n    let correctAnswer;\n\n    const generateCaptcha = () => {\n        const a = Math.floor(Math.random() * 10) + 1;\n        const b = Math.floor(Math.random() * 10) + 1;\n        correctAnswer = a + b;\n        if (captchaQ) captchaQ.innerText = `${a} + ${b}`;\n    };\n    generateCaptcha();\n\n    if (form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            if (parseInt(captchaA.value) !== correctAnswer) {\n                alert('Неверный ответ капчи!');\n                generateCaptcha();\n                captchaA.value = '';\n                return;\n            }\n\n            const btn = document.getElementById('submit-btn');\n            const loader = document.getElementById('form-loader');\n            const btnText = btn.querySelector('span');\n\n            btnText.style.opacity = '0';\n            loader.style.display = 'block';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                document.getElementById('success-msg').classList.add('active');\n                form.reset();\n                generateCaptcha();\n                btnText.style.opacity = '1';\n                loader.style.display = 'none';\n                btn.disabled = false;\n            }, 2000);\n        });\n    }\n\n    document.getElementById('reset-form')?.addEventListener('click', () => {\n        document.getElementById('success-msg').classList.remove('active');\n    });\n\n    // --- 7. COOKIE POPUP ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieBtn = document.getElementById('cookie-accept');\n\n    if (cookiePopup && !localStorage.getItem('epsilon_cookies_accepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('active');\n        }, 3000);\n    }\n\n    cookieBtn?.addEventListener('click', () => {\n        localStorage.setItem('epsilon_cookies_accepted', 'true');\n        cookiePopup.classList.remove('active');\n    });\n\n    // --- 8. ЭФФЕКТ МАГНИТНЫХ КАРТОЧЕК ---\n    document.querySelectorAll('.bento__item').forEach(item => {\n        item.addEventListener('mousemove', (e) => {\n            const rect = item.getBoundingClientRect();\n            item.style.setProperty('--mouse-x', `${e.clientX - rect.left}px`);\n            item.style.setProperty('--mouse-y', `${e.clientY - rect.top}px`);\n        });\n    });\n\n    // Инициализация иконок\n    lucide.createIcons();\n});"],"names":["lenis","t","raf","time","header","burger","mobileMenu","mobileLinks","toggleMenu","link","heroTitle","el","counter","target","form","captchaQ","captchaA","correctAnswer","generateCaptcha","a","b","btn","loader","btnText","_a","cookiePopup","cookieBtn","item","e","rect"],"mappings":"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"}