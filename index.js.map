{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. ПЛАВНЫЙ СКРОЛЛ ---\n    const lenis = new Lenis({\n        duration: 1.2,\n        smoothWheel: true,\n    });\n    function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }\n    requestAnimationFrame(raf);\n\n    // --- 2. HEADER & MENU ---\n    const header = document.querySelector('.header');\n    const burger = document.querySelector('.burger');\n    const mobileMenu = document.getElementById('mobile-menu');\n\n    window.addEventListener('scroll', () => {\n        header.classList.toggle('header--scrolled', window.scrollY > 50);\n    });\n\n    if (burger) {\n        burger.addEventListener('click', () => {\n            burger.classList.toggle('active');\n            mobileMenu.classList.toggle('active');\n            document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n        });\n    }\n\n    // --- 3. ИНИЦИАЛИЗАЦИЯ SWIPER (БЕЗ GSAP) ---\n    // Инициализируем сразу, без условий появления\n    const innovationSwiper = new Swiper('.innovation-slider', {\n        slidesPerView: 1,\n        spaceBetween: 20,\n        loop: true,\n        grabCursor: true,\n        watchSlidesProgress: true,\n        autoplay: { delay: 4000 },\n        pagination: { el: '.inv-pagination', clickable: true },\n        navigation: { nextEl: '.inv-next', prevEl: '.inv-prev' },\n        breakpoints: {\n            768: { slidesPerView: 2, spaceBetween: 30 },\n            1100: { slidesPerView: 3, spaceBetween: 40 }\n        }\n    });\n\n    // --- 4. GSAP АНИМАЦИИ (ТОЛЬКО ГДЕ НУЖНО) ---\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Анимация текста в Hero\n    const heroTitle = new SplitType('.hero__title', { types: 'chars' });\n    gsap.to(heroTitle.chars, {\n        y: 0, opacity: 1, stagger: 0.02, duration: 0.8, ease: 'power3.out'\n    });\n\n    // Появление карточек блога (Инсайты)\n    gsap.from(\".animate-blog\", {\n        scrollTrigger: {\n            trigger: \".blog__grid\",\n            start: \"top 85%\",\n        },\n        y: 30,\n        opacity: 0,\n        stagger: 0.1,\n        duration: 0.6\n    });\n\n    // --- 5. ФОРМА И КАПЧА ---\n    const form = document.getElementById('career-form');\n    const captchaQ = document.getElementById('captcha-question');\n    let correctAnswer;\n\n    const genCaptcha = () => {\n        const a = Math.floor(Math.random() * 10) + 1, b = Math.floor(Math.random() * 10) + 1;\n        correctAnswer = a + b;\n        if (captchaQ) captchaQ.innerText = `${a} + ${b}`;\n    };\n    genCaptcha();\n\n    if (form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            const ans = document.getElementById('captcha-answer').value;\n            if (parseInt(ans) !== correctAnswer) {\n                alert('Ошибка проверки!'); return genCaptcha();\n            }\n            \n            const btn = document.getElementById('submit-btn');\n            btn.disabled = true;\n            document.getElementById('form-loader').style.display = 'block';\n\n            setTimeout(() => {\n                document.getElementById('success-msg').classList.add('active');\n                form.reset(); genCaptcha();\n                btn.disabled = false;\n                document.getElementById('form-loader').style.display = 'none';\n            }, 1500);\n        });\n    }\n\n    // --- 6. COOKIE POPUP ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    if (cookiePopup && !localStorage.getItem('epsilon_accepted')) {\n        setTimeout(() => cookiePopup.classList.add('active'), 2000);\n    }\n    document.getElementById('cookie-accept')?.addEventListener('click', () => {\n        localStorage.setItem('epsilon_accepted', 'true');\n        cookiePopup.classList.remove('active');\n    });\n\n    // Включаем иконки\n    lucide.createIcons();\n});"],"names":["lenis","raf","time","header","burger","mobileMenu","heroTitle","form","captchaQ","correctAnswer","genCaptcha","a","b","e","ans","btn","cookiePopup","_a"],"mappings":"0uBAAA,SAAS,iBAAiB,mBAAoB,IAAM,OAGhD,MAAMA,EAAQ,IAAI,MAAM,CACpB,SAAU,IACV,YAAa,EACrB,CAAK,EACD,SAASC,EAAIC,EAAM,CAAEF,EAAM,IAAIE,CAAI,EAAG,sBAAsBD,CAAG,CAAE,CACjE,sBAAsBA,CAAG,EAGzB,MAAME,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,eAAe,aAAa,EAExD,OAAO,iBAAiB,SAAU,IAAM,CACpCF,EAAO,UAAU,OAAO,mBAAoB,OAAO,QAAU,EAAE,CACvE,CAAK,EAEGC,GACAA,EAAO,iBAAiB,QAAS,IAAM,CACnCA,EAAO,UAAU,OAAO,QAAQ,EAChCC,EAAW,UAAU,OAAO,QAAQ,EACpC,SAAS,KAAK,MAAM,SAAWA,EAAW,UAAU,SAAS,QAAQ,EAAI,SAAW,EAChG,CAAS,EAKoB,IAAI,OAAO,qBAAsB,CACtD,cAAe,EACf,aAAc,GACd,KAAM,GACN,WAAY,GACZ,oBAAqB,GACrB,SAAU,CAAE,MAAO,GAAM,EACzB,WAAY,CAAE,GAAI,kBAAmB,UAAW,EAAM,EACtD,WAAY,CAAE,OAAQ,YAAa,OAAQ,WAAa,EACxD,YAAa,CACT,IAAK,CAAE,cAAe,EAAG,aAAc,EAAI,EAC3C,KAAM,CAAE,cAAe,EAAG,aAAc,EAAE,CACtD,CACK,CAAA,EAGD,KAAK,eAAe,aAAa,EAGjC,MAAMC,EAAY,IAAI,UAAU,eAAgB,CAAE,MAAO,QAAS,EAClE,KAAK,GAAGA,EAAU,MAAO,CACrB,EAAG,EAAG,QAAS,EAAG,QAAS,IAAM,SAAU,GAAK,KAAM,YAC9D,CAAK,EAGD,KAAK,KAAK,gBAAiB,CACvB,cAAe,CACX,QAAS,cACT,MAAO,SACV,EACD,EAAG,GACH,QAAS,EACT,QAAS,GACT,SAAU,EAClB,CAAK,EAGD,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAW,SAAS,eAAe,kBAAkB,EAC3D,IAAIC,EAEJ,MAAMC,EAAa,IAAM,CACrB,MAAMC,EAAI,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EAAGC,EAAI,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EACnFH,EAAgBE,EAAIC,EAChBJ,IAAUA,EAAS,UAAY,GAAGG,CAAC,MAAMC,CAAC,GACjD,EACDF,EAAY,EAERH,GACAA,EAAK,iBAAiB,SAAWM,GAAM,CACnCA,EAAE,eAAgB,EAClB,MAAMC,EAAM,SAAS,eAAe,gBAAgB,EAAE,MACtD,GAAI,SAASA,CAAG,IAAML,EAClB,aAAM,kBAAkB,EAAUC,EAAY,EAGlD,MAAMK,EAAM,SAAS,eAAe,YAAY,EAChDA,EAAI,SAAW,GACf,SAAS,eAAe,aAAa,EAAE,MAAM,QAAU,QAEvD,WAAW,IAAM,CACb,SAAS,eAAe,aAAa,EAAE,UAAU,IAAI,QAAQ,EAC7DR,EAAK,QAASG,EAAY,EAC1BK,EAAI,SAAW,GACf,SAAS,eAAe,aAAa,EAAE,MAAM,QAAU,MAC1D,EAAE,IAAI,CACnB,CAAS,EAIL,MAAMC,EAAc,SAAS,eAAe,cAAc,EACtDA,GAAe,CAAC,aAAa,QAAQ,kBAAkB,GACvD,WAAW,IAAMA,EAAY,UAAU,IAAI,QAAQ,EAAG,GAAI,GAE9DC,EAAA,SAAS,eAAe,eAAe,IAAvC,MAAAA,EAA0C,iBAAiB,QAAS,IAAM,CACtE,aAAa,QAAQ,mBAAoB,MAAM,EAC/CD,EAAY,UAAU,OAAO,QAAQ,CAC7C,GAGI,OAAO,YAAa,CACxB,CAAC"}