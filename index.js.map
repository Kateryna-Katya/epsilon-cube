{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. ПЛАВНЫЙ СКРОЛЛ (LENIS) ---\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        smoothWheel: true,\n    });\n    function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }\n    requestAnimationFrame(raf);\n\n    // --- 2. HEADER & MOBILE MENU ---\n    const header = document.querySelector('.header');\n    const burger = document.querySelector('.burger');\n    const mobileMenu = document.getElementById('mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-nav__link');\n\n    window.addEventListener('scroll', () => {\n        header.classList.toggle('header--scrolled', window.scrollY > 50);\n    });\n\n    const toggleMenu = () => {\n        burger.classList.toggle('active');\n        mobileMenu.classList.toggle('active');\n        document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n    };\n\n    burger.addEventListener('click', toggleMenu);\n    mobileLinks.forEach(link => link.addEventListener('click', toggleMenu));\n\n    // --- 3. HERO BACKGROUND (VANTA) ---\n    if (window.innerWidth > 768 && typeof VANTA !== 'undefined') {\n        VANTA.NET({\n            el: \"#vanta-canvas\",\n            mouseControls: true,\n            color: 0x22d3ee,\n            backgroundColor: 0x0a0c10,\n            points: 12.00,\n            maxDistance: 22.00,\n            spacing: 18.00\n        });\n    }\n\n    // --- 4. GSAP АНИМАЦИИ ---\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Hero Text\n    const heroTitle = new SplitType('.hero__title', { types: 'chars' });\n    const heroTl = gsap.timeline({ delay: 0.5 });\n    heroTl.to(heroTitle.chars, {\n        y: 0, rotate: 0, opacity: 1, stagger: 0.03, duration: 1, ease: 'power4.out'\n    }).to('.animate-fade', {\n        y: 0, opacity: 1, stagger: 0.2, duration: 0.8\n    }, '-=0.5');\n\n    // Reveal elements on scroll\n    const revealElements = [\".about__content .reveal-text\", \".animate-bento\", \".animate-blog\"];\n    revealElements.forEach(selector => {\n        gsap.from(selector, {\n            scrollTrigger: { trigger: selector, start: \"top 90%\" },\n            y: 40, opacity: 0, stagger: 0.15, duration: 1, ease: \"power3.out\"\n        });\n    });\n\n    // Stats counter\n    document.querySelectorAll('.stat-item__num').forEach(counter => {\n        const val = +counter.getAttribute('data-val');\n        gsap.to(counter, {\n            scrollTrigger: { trigger: counter },\n            innerText: val, duration: 2, snap: { innerText: 1 }\n        });\n    });\n\n    // --- 5. SWIPER (INNOVATION) ---\n    new Swiper('.innovation-slider', {\n        slidesPerView: 1, spaceBetween: 20, loop: true,\n        autoplay: { delay: 4000 },\n        pagination: { el: '.inv-pagination', clickable: true },\n        navigation: { nextEl: '.inv-next', prevEl: '.inv-prev' },\n        breakpoints: { 640: { slidesPerView: 2 }, 1024: { slidesPerView: 3 } }\n    });\n\n    // --- 6. КОНТАКТНАЯ ФОРМА ---\n    const form = document.getElementById('career-form');\n    const captchaQ = document.getElementById('captcha-question');\n    const captchaA = document.getElementById('captcha-answer');\n    let correctAnswer;\n\n    const genCaptcha = () => {\n        const a = Math.floor(Math.random() * 10) + 1, b = Math.floor(Math.random() * 10) + 1;\n        correctAnswer = a + b;\n        if(captchaQ) captchaQ.innerText = `${a} + ${b}`;\n    };\n    genCaptcha();\n\n    if(form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            if (parseInt(captchaA.value) !== correctAnswer) {\n                alert('Ошибка капчи!'); return genCaptcha();\n            }\n            const btn = document.getElementById('submit-btn');\n            btn.disabled = true;\n            btn.querySelector('span').style.opacity = '0';\n            document.getElementById('form-loader').style.display = 'block';\n\n            setTimeout(() => {\n                document.getElementById('success-msg').classList.add('active');\n                form.reset(); genCaptcha();\n                btn.disabled = false;\n                btn.querySelector('span').style.opacity = '1';\n                document.getElementById('form-loader').style.display = 'none';\n            }, 2000);\n        });\n    }\n\n    document.getElementById('reset-form')?.addEventListener('click', () => {\n        document.getElementById('success-msg').classList.remove('active');\n    });\n\n    // --- 7. COOKIE POPUP LOGIC ---\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieBtn = document.getElementById('cookie-accept');\n\n    if (!localStorage.getItem('epsilon_cookies_accepted')) {\n        setTimeout(() => cookiePopup.classList.add('active'), 2000);\n    }\n\n    cookieBtn.addEventListener('click', () => {\n        localStorage.setItem('epsilon_cookies_accepted', 'true');\n        cookiePopup.classList.remove('active');\n    });\n\n    // --- 8. SPOTLIGHT EFFECT ---\n    document.querySelectorAll('.bento__item').forEach(item => {\n        item.addEventListener('mousemove', (e) => {\n            const rect = item.getBoundingClientRect();\n            item.style.setProperty('--mouse-x', `${e.clientX - rect.left}px`);\n            item.style.setProperty('--mouse-y', `${e.clientY - rect.top}px`);\n        });\n    });\n\n    lucide.createIcons();\n});"],"names":["lenis","t","raf","time","header","burger","mobileMenu","mobileLinks","toggleMenu","link","heroTitle","selector","counter","val","form","captchaQ","captchaA","correctAnswer","genCaptcha","a","b","btn","_a","cookiePopup","cookieBtn","item","e","rect"],"mappings":"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"}